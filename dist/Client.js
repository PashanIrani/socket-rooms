/*! For license information please see Client.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./src/client/index.ts":function(__unused_webpack_module,exports,__webpack_require__){eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst Events_1 = __importDefault(__webpack_require__(/*! src/common/Events */ \"./src/common/Events.ts\"));\nconst Member_1 = __webpack_require__(/*! src/common/Member */ \"./src/common/Member.ts\");\nconst sendMessageToRoom = (roomId, message) => {\n    let { socket, me } = window.socketRooms;\n    if (me == null) {\n        console.error('Something went wrong, current session has not be initialized properly.');\n        return;\n    }\n    socket.emit(Events_1.default.SEND_MESSAGE, { roomId, message, from: me.id });\n};\nconst joinRoom = (roomId) => {\n    let { socket, me } = window.socketRooms;\n    socket.emit(Events_1.default.JOIN_ROOM, { roomId, member: me });\n    socket.on(Events_1.default.listen(roomId), (data) => {\n        console.log('recieved:');\n        console.log(data);\n    });\n};\nconst init = (userProvidedSocket) => {\n    window.socketRooms = { socket: null, me: null };\n    let { socket, me } = window.socketRooms;\n    const promise = new Promise((res, _) => {\n        if (socket !== null && me !== null) {\n            res('Already Connected');\n            return;\n        }\n        userProvidedSocket.on('connect', () => {\n            window.socketRooms = { socket: userProvidedSocket, me: new Member_1.Member(userProvidedSocket.id) };\n            res('Connected');\n        });\n    });\n    return promise;\n};\nexports[\"default\"] = { init, joinRoom, sendMessageToRoom };\n\n\n//# sourceURL=webpack://SocketRooms/./src/client/index.ts?")},"./src/common/Events.ts":(__unused_webpack_module,exports)=>{eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports[\"default\"] = {\n    JOIN_ROOM: 'join room',\n    SEND_MESSAGE: 'send message',\n    listen: (roomId) => {\n        return `LISTEN-${roomId}`;\n    }\n};\n\n\n//# sourceURL=webpack://SocketRooms/./src/common/Events.ts?")},"./src/common/Member.ts":(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.Member = void 0;\nclass Member {\n    constructor(id) {\n        this.rooms = [];\n        this.id = id;\n    }\n}\nexports.Member = Member;\n\n\n//# sourceURL=webpack://SocketRooms/./src/common/Member.ts?')}},__webpack_module_cache__={};function __webpack_require__(e){var o=__webpack_module_cache__[e];if(void 0!==o)return o.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__("./src/client/index.ts");module.exports.SocketRoomsClient=__webpack_exports__.default})();